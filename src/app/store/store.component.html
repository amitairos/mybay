<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer class="sidenav" fixedInViewport="true" [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'" [opened]="!(isHandset$ | async)">
    <mat-toolbar color="primary">Departments</mat-toolbar>
    <mat-nav-list>
      <div *ngFor="let category of productService.categories">
        <a mat-list-item style="cursor: pointer" (click)="openDepartment(category);">{{category.Category}}</a>
        <div *ngIf="category.ShowSub" style="margin-left:10px">
          <button style="display:block; text-align: left" mat-button *ngFor="let sub of category.SubCategories" (click)="openSubCategory(sub)">{{sub}}</button>
        </div>
      </div>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <div style="width: 100%; padding: 10px;">
      <input placeholder="Search Products" class="search mat-elevation-z4" [(ngModel)]="query" (ngModelChange)="search()" />
      <mat-grid-list cols="5" gutterSize="20px">
        <mat-grid-tile *ngFor="let product of productService.filteredProducts">
          <mat-card mat-ripple style=" width: calc(100% - 10px);
          height: calc(100% - 10px);" (click)="openProduct(product)">
            <div style="height:100%; width: 100%; padding: 5px;">
              <img class="productImage" src="{{product.ImageLink}}" alt="{{product.Name}}" />
              <div style="margin: 10px; width: 90%; text-align: center; max-height: 30%; overflow: hidden;
              text-overflow: ellipsis;
              
              display: -webkit-box;
              -webkit-line-clamp: 2;
              -webkit-box-orient: vertical;">
                {{product.Name}}
              </div>
            </div>
          </mat-card>
        </mat-grid-tile>
      </mat-grid-list>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>